# RTB_ONNX

## Server & CLI Inference Commands

```python
uvicorn app:app --host 0.0.0.0 --port 8000 --reload
```

```python
python test.py \
  --age 20 \
  --gender F \
  --region 수원시 \
  --spending_power High \
  --fav_category 게임/엔터 \
  --ad_category 게임/엔터 \
  --price_level Mid \
  --target_gender Both \
  --target_ages "['20-30', '30-40']" \
  --os Android \
  --network_type 5g \
  --time_hour 15 \
  --fav_match 0 \
  --gender_match 0 \
  --age_match 0 \
  --age_similarity "0.0" \
  --is_target_match 1
```

## Sample Inference Input 

```python
raw_sample = {

    # User
    "age": 29,
    "gender": "M",
    "region": "수원시",
    "spending_power": "High",
    "fav_category": "게임/엔터",
    
    # Item
    "ad_category": "게임/엔터",
    "price_level": "Mid",
    "target_gender": "Both",
    "target_ages": "['20-30', '30-40']",
    
    # Context
    "os": "Android",
    "network_type": "5g",
    "time_hour": 15,
    
    # Cheats
    "fav_match": 0, #취향 일치 여부 0 or 1
    "gender_match": 0, #성별 일치 여부 0 or 1
    "age_match": 0, #연령 타겟팅 일치 여부 0 or 1
    "age_similarity": "0.0", #연령대가 얼마나 유사한지 0~1
    "is_target_match": 0 #위의 모든 조건이 충족되었는지 0 or 1
}
```

## Feature Value Ranges

================================================================================

[age]

[15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38
 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 60 65]

================================================================================

[gender]

['F', 'M']

================================================================================

[region]

['가평군', '강릉시', '계룡시', '고성군', '고양시', '고양시 덕양구', '고양시 일산동구', '고양시 일산서구', '공주시', '과천시', '광명시', '광주시', '괴산군', '구리시', '군포시', '금산군', '김포시', '남양주시', '논산시', '단양군', '당진시', '동두천시', '동해시', '보령시', '보은군', '부여군', '부천시', '부천시 소사구', '부천시 오정구', '부천시 원미구', '삼척시', '서산시', '서천군', '성남시', '성남시 분당구', '성남시 수정구', '성남시 중원구', '속초시', '수원시', '수원시 권선구', '수원시 영통구', '수원시 장안구', '수원시 팔달구', '시흥시', '아산시', '안산시', '안산시 단원구', '안산시 상록구', '안성시', '안양시']
... 

================================================================================

[spending_power]

['High', 'Low']

================================================================================

[fav_category]

['게임/엔터', '경제/부동산', '교육/학습', '금융', '반려동물', '스포츠', '식품/음료', '여행/레저', '의약품/건강', '자동차', '전자제품', '통신/IT', '패션/의류', '화장품/뷰티']

================================================================================

[ad_category]
['게임/엔터', '경제/부동산', '교육/학습', '금융', '반려동물', '스포츠', '식품/음료', '여행/레저', '의약품/건강', '자동차', '전자제품', '통신/IT', '패션/의류', '화장품/뷰티']

================================================================================

[price_level]

['High', 'Low', 'Mid']

================================================================================

[target_gender]

['Both', 'F', 'M']

================================================================================

[target_ages]

["['20-30', '30-40', '40-50', '50-60', '60-70']", "['20-30', '30-40', '40-50', '50-60']", "['20-30', '30-40', '40-50', '60-70']", "['20-30', '30-40', '40-50']", "['20-30', '30-40', '50-60', '60-70']", "['20-30', '30-40', '50-60']", "['20-30', '30-40', '60-70']", "['20-30', '30-40']", "['20-30', '40-50', '50-60', '60-70']", "['20-30', '40-50', '60-70']", "['20-30', '40-50']", "['20-30', '50-60', '60-70']", "['20-30', '50-60']", "['20-30', '60-70']", "['20-30']", "['30-40', '40-50', '50-60', '60-70']", "['30-40', '40-50', '60-70']", "['30-40', '40-50']", "['30-40', '50-60', '60-70']", "['30-40', '50-60']", "['30-40', '60-70']", "['30-40']", "['40-50', '50-60', '60-70']", "['40-50', '50-60']", "['40-50', '60-70']", "['40-50']", "['50-60', '60-70']", "['50-60']", "['60-70']"]

================================================================================

[os]

['Android', 'iOS']

================================================================================

[network_type]

['4g', '5g', 'wifi']

================================================================================

[time_hour]

[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]

================================================================================

[fav_match]

[0 1]

================================================================================

[gender_match]

[0 1]

================================================================================

[age_match]

[0 1]

================================================================================

[age_similarity]

[0.         0.2        0.25       0.33333333 0.5        1.        ]

================================================================================

[is_target_match]

[0 1]
